{% extends "./base.html" %} {% load static %} {% load humanize %}
<!--  -->
{% block title %} Image Converter/Compressor {% endblock title %}
<!--  -->
{% block body %}
<div class="vertical-center">
  <div class="w-75">
    <div class="text-center">
      <h3>Image Converter/Compressor</h3>
    </div>
    <hr />

    <div class="text-center">
      <div class="pl-5 pr-5">
        <input
          type="file"
          class="form-control"
          id="image-selector"
          accept="image/jpg, image/jpeg, image/png"
        />
      </div>
    </div>
    <br />
    <div class="text-center">
      {% comment %}
      <button
        id="convertBtn"
        type="button"
        class="btn btn-sm btn-outline-dark m-1"
        onclick="convertImage()"
        data-loading="false"
      >
        Convert to ...
      </button>
      {% endcomment %}
      <button type="button" class="btn btn-sm btn-outline-dark m-1" disabled>
        Conversion Coming Soon ...
      </button>
      <button
        id="compressBtn"
        type="button"
        class="btn btn-sm btn-outline-dark m-1"
        style="margin-left: 0.5rem"
        onclick="compressImage()"
        data-loading="false"
      >
        Compress
      </button>
    </div>
    <div class="pt-3">{% include "./alert.html" %}</div>
    <div id="display-img-container" style="display: none">
      <hr />
      <div id="display-img-div"></div>
    </div>
  </div>
</div>

<div id="compress-image-modal" class="modal fade" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Compress Image</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <img id="compress-image-modal-img" style="width: 100%" alt="compress" />
        <hr />
        <label for="compress-range" class="form-label"
          >Select Compress Quality</label
        >
        <input type="range" class="form-range" id="compress-range" />
        <div class="input-group">
          <input
            id="compress-range-input"
            type="text"
            type="number"
            min="0"
            max="100"
            class="form-control"
            placeholder="Compress Quality"
            value="50"
          />
          <span class="input-group-text" id="basic-addon1">%</span>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-sm btn-outline-success"
          onclick="submitCompressImage()"
        >
          Compress
        </button>
      </div>
    </div>
  </div>
</div>
{% endblock body %}

<!--  -->
{% block js %}
<script src="{% static 'js/index.js' %}" type="text/javascript"></script>
{% endblock js %}
